{
  "name": "Projector",
  "description": "Terminal UI that scans a configurable directory, displays all git repositories with their status, and enables quick navigation between projects.",
  "branchName": "feature/projector",
  "userStories": [
    {
      "id": "US-001",
      "title": "View Project List",
      "description": "Display all git repositories in a scrollable list with project name, relative path, git branch, ahead/behind counts, and dirty files count. Use vim-style navigation (j/k or arrows), support fuzzy search filtering (/ to activate), show empty state when no repos found, and async loading with progress indicator for 50+ repos.",
      "acceptanceCriteria": [
        "Display project name (directory name) and relative path",
        "Show git branch name for each repo (via go-git r.Head())",
        "Show ahead/behind commit counts relative to upstream (via go-git reference comparison)",
        "Show dirty files count (via go-git worktree.Status())",
        "Use vim-style navigation (j/k or arrows)",
        "Support fuzzy search filtering (/ to activate)",
        "Empty state message when no repos found",
        "Async loading with progress indicator for 50+ repos"
      ],
      "priority": 1,
      "passes": false,
      "dependsOn": []
    },
    {
      "id": "US-002",
      "title": "Open Project in Terminal",
      "description": "Press Enter to select and cd to project directory. Output shell command to stdout for shell integration. Support --print flag for non-interactive mode.",
      "acceptanceCriteria": [
        "Press Enter to select and cd to project directory",
        "Output shell command to stdout for shell integration: cd /path/to/project",
        "Support --print flag for non-interactive mode: projector --print",
        "Exit with code 0 on success, 1 on cancellation"
      ],
      "priority": 1,
      "passes": false,
      "dependsOn": [
        "US-001"
      ]
    },
    {
      "id": "US-003",
      "title": "Open Project in Editor",
      "description": "Press 'e' to open in configured editor. Editor determined by config editor field or $EDITOR env var. Spawn editor process and wait for completion, then return to list.",
      "acceptanceCriteria": [
        "Press 'e' to open in configured editor",
        "Editor determined by: config editor field → $EDITOR env var",
        "Spawn editor process and wait for completion",
        "Return to list after editor closes",
        "Show error in status bar if editor not configured"
      ],
      "priority": 2,
      "passes": false,
      "dependsOn": [
        "US-001"
      ]
    },
    {
      "id": "US-004",
      "title": "Configure Projects Directory",
      "description": "Configure which directory Projector scans via CLI flag or config file. CLI flag overrides config file. Validate directory exists on startup.",
      "acceptanceCriteria": [
        "CLI flag: projector --dir ~/code",
        "Config file: projectsDir field in ~/.projector.json",
        "CLI flag overrides config file setting",
        "Validate directory exists on startup",
        "Show error and exit if directory invalid"
      ],
      "priority": 1,
      "passes": true,
      "dependsOn": []
    },
    {
      "id": "US-005",
      "title": "Filter Projects with Fuzzy Search",
      "description": "Press '/' to enter filter mode. Type to fuzzy-match against project names and paths. List updates in real-time. Press ESC to clear filter.",
      "acceptanceCriteria": [
        "Press '/' to enter filter mode",
        "Type to fuzzy-match against project names and paths",
        "List updates in real-time as user types",
        "Press ESC to clear filter and exit filter mode",
        "Maintain selection within filtered results",
        "Show [filtering] indicator when active"
      ],
      "priority": 2,
      "passes": false,
      "dependsOn": [
        "US-001"
      ]
    },
    {
      "id": "US-006",
      "title": "Handle Git Status Errors Gracefully",
      "description": "Display warning icon for repos with errors. Show error details in status bar when selected. Handle common errors like merge conflicts, detached HEAD, corrupted .git.",
      "acceptanceCriteria": [
        "Display warning icon (⚠) next to repos with errors",
        "Show error details in status bar when repo selected",
        "Common errors: merge conflicts, detached HEAD, corrupted .git",
        "Allow navigation to problematic repos",
        "Don't skip repos silently—always show in list",
        "go-git returns typed errors for graceful handling"
      ],
      "priority": 2,
      "passes": false,
      "dependsOn": [
        "US-001"
      ]
    },
    {
      "id": "US-007",
      "title": "Remember Last Selection",
      "description": "When rememberSelection: true, save last selected path on exit. Restore cursor to that project on next launch.",
      "acceptanceCriteria": [
        "When rememberSelection: true, save last selected path on exit",
        "Restore cursor to that project on next launch",
        "Fall back to first item if saved path no longer exists",
        "Setting configurable via ~/.projector.json"
      ],
      "priority": 3,
      "passes": false,
      "dependsOn": [
        "US-001",
        "US-004"
      ]
    },
    {
      "id": "US-008",
      "title": "Monorepo-Aware Scanning",
      "description": "Use godirwalk for fast directory traversal. Detect .git at any depth up to scanDepth. Stop scanning deeper when .git found. Support git worktrees.",
      "acceptanceCriteria": [
        "Use godirwalk for fast directory traversal (2-10x faster than filepath.Walk)",
        "Detect .git at any depth up to scanDepth",
        "Stop scanning deeper when .git found (return godirwalk.SkipThis)",
        "Display relative path from root for nested repos",
        "Support git worktrees as separate entries (go-git PlainOpen handles worktrees)"
      ],
      "priority": 1,
      "passes": false,
      "dependsOn": []
    }
  ],
  "metadata": {
    "createdAt": "2026-02-20T23:21:00Z",
    "version": "1.0",
    "sourcePrd": "tasks/prd-projector-product-requirements-document.md",
    "updatedAt": "2026-02-20T23:29:26.801Z"
  }
}